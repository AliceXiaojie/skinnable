<!DOCTYPE html>
<html>
	<head>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1/jquery.min.js"></script>
		<script src="http://cytoscape.github.io/cytoscape.js/api/cytoscape.js-latest/cytoscape.min.js"></script>
		<script src="http://marvl.infotech.monash.edu/webcola/cola.v3.min.js"></script>
		<script>
			$(function()
			{
				var cy = cytoscape(
					{
						"container": document.getElementById('cy'),
						style: [
							{
							selector: 'node',
							css: {
								'content': 'data(id)',
								'text-valign': 'center',
								'text-halign': 'center'
							}
						},
						{
							selector: '$node > node',
							css: {
								'padding-top': '10px',
								'padding-left': '10px',
								'padding-bottom': '10px',
								'padding-right': '10px',
								'text-valign': 'top',
								'text-halign': 'center',
							}
						},
						{
							selector: 'edge',
							css: {
								'content': 'data(id)',
								'text-valign': 'center',
								'text-halign': 'center',
								'target-arrow-shape': 'triangle',
								'font-size': '5px',
							}
						},
						{
							selector: ':selected',
							css: {
								'background-color': 'black',
								'line-color': 'black',
								'target-arrow-color': 'black',
								'source-arrow-color': 'black'
							}
						},
						{
							selector: '.taco',
							css: {
								'color': 'red',
								'line-color': 'green',
								'target-arrow-color': 'blue',
								'source-arrow-color': 'blue',
							}
						},
						], 
						layout:
						{
							name: 'cola',
							padding: 5,
							animate: false,
							nestingFactor: 0,
						},
							"elements": {
								"nodes": [
									{ "data": { "id": "UsbPower", "type": "usb power" }, },
									{ "data": { "id": "Branch", "type": "branch" }, },
									{ "data": { "id": "Dimmer", "type": "wire" }, },
									{ "data": { "id": "Temperature", "type": "wire" }, },
									{ "data": { "id": "Button", "type": "wire" }, },
									{ "data": { "id": "Latch", "type": "wire" }, },
									{ "data": { "id": "LED1", "type": "wire" }, },
									{ "data": { "id": "LED2", "type": "wire" }, },
									{ "data": { "id": "Number1", "type": "wire" }, },
									{ "data": { "id": "Number2", "type": "wire" }, },
									{ "data": { "id": "Arduino1", "type": "arduino" }, },
									{ "data": { "id": "Arduino2", "type": "arduino" }, },
									{ "data": { "id": "Servo", "type": "wire" }, },
									{ "data": { "id": "Cloud", "type": "wire" }, }
								],
								"edges": [
									{ "data": { "id": "UsbPower.out-Branch.in", "source": "UsbPower", "target": "Branch" }, },
									{ "data": { "id": "Branch.out1-Button.in", "source": "Branch", "target": "Button" }, },
									{ "data": { "id": "Branch.out2-Temperature.in", "source": "Branch", "target": "Temperature" }, },
									{ "data": { "id": "Branch.out3-Dimmer.in", "source": "Branch", "target": "Dimmer" }, },
									{ "data": { "id": "Button.out-Latch.in", "source": "Button", "target": "Latch" }, },
									{ "data": { "id": "Latch.out-LED1.in", "source": "Latch", "target": "LED1" }, },
									{ "data": { "id": "LED1.out-Arduino2.D0", "source": "LED1", "target": "Arduino2" }, },
									{ "data": { "id": "Temperature.out-Number1.in", "source": "Temperature", "target": "Number1" }, },
									{ "data": { "id": "Number1.out-Arduino2.A0", "source": "Number1", "target": "Arduino2" }, },
									{ "data": { "id": "Dimmer.out-Arduino1.A0", "source": "Dimmer", "target": "Arduino1" }, },
									{ "data": { "id": "Arduino1.D5-Number2.in", "source": "Arduino1", "target": "Number2" }, },
									{ "data": { "id": "Number2.out-Arduino2.A1", "source": "Number2", "target": "Arduino2" }, },
									{ "data": { "id": "Arduino1.A1-Cloud.out", "source": "Arduino1", "target": "Cloud" }, },
									{ "data": { "id": "Arduino2.D5-LED2.in", "source": "Arduino2", "target": "LED2" }, },
									{ "data": { "id": "LED2.out-Servo.in", "source": "LED2", "target": "Servo" }, },
									{ "data": { "id": "Arduino2.D9-Cloud.in", "source": "Arduino2", "target": "Cloud" }, }
								]
							},
						}
				);
			}
		);
	</script>
	<body>
		<div id="cy" style="height:100%;width:100%;position:absolute;left:0;top:0;"></div>
	</body>
</html>
